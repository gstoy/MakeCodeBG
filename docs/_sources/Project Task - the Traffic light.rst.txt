==================
Задача-Светофарът
==================

Светофаът е светлинно сигнално устройство с важна роля в контрола на трафика. Светофарите обикновено се инсталират на кръстопътища.

.. image:: ../_images/_imageMicroBit/semafor.jpg
      :align: center

Първият светофар е бил инсталиран на 10 декември 1868 в Лондон по идея на Джон Пийк Найт. Светофарът е бил ръководен ръчно от полицай. Първите взаимосвързани светофари били инсталиране в Солт Лейк Сити. Първият автоматичен светофар се е намирал в Хюстън, САЩ, 1922 г., а друг такъв-в Англия, 1927 г. 

Цветът, размерът и формата на светлинните сигнали се определят от международни стандарти:
­
- Червено-стоп

- Червено и жълто-пригови се да тръгнеш

- Зелено-тръгвай

- Жълто-приготви се да спреш, ще светне червено


Цветовете се сменят в конкретна последователност и на конкретни времеви интревали.

Ще използваме Micro:bit, за да създадем светофар с червена, жълта и зелена светлини, които ще се сменят на определено време, точно както и истински светофар. 

За тази цел ще ни трябват:

-	1 Micro:bit

-	protoboard

-	Стиреопор

-	3 диода (червен, жълт, зелен)

-	3 резистора

-	4 крокодилчета

-	4 жици с различни дължини

Преди да свържем Micro:bit-а с диодите, ще си припомним, че той иа 25 пина,от които пет са големи пинове- 0, 1, 2, 3V и GND. Останалите 20 могат да бъдат използване за свързване на Micro:bit-а с други устройства.

.. image:: ../_images/_imageMicroBit/67.png
      :align: center
 
Чрез жици/крокодилски щипки, ще свържем Micro:bit-а, използвайки неговия GND, и който и да е от пиовете на protoboard-а, за да можем да свържем GND с диода.

За своята работа диодът изисква мощност. Ще ограничим мощността чрез резистори (ти възпрепятстват потока от заряд и контролират напрежението във веригата).

Фигурата отдолу показва връзката на Micro:bit-а с LED-овете:

.. image:: ../_images/_imageMicroBit/semafor1.png
      :align: center

Свързваме Micro:bit-а с пин Р0 и един от пиновете на protoboard-а от лявата страна на резисторите (виж фигурата отдолу). Ще свържем по-дългата част (+) на диода с пина Р0, използвайки крокодилски щипки, а по-късата, отново чрез крокодилски щипки, към  GND-то.

Останалите два LED-а ще свържем по същия начин.

.. image:: ../_images/_imageMicroBit/semafor2.png
      :align: center

Ще се опитаме да направим светофар от стиреопор.

**Програмиране**

Трябва да създадем програма, която кара LED-овете да светват и изгасят.

**Стъпка 1**

Отидете на  https://makecode.microbit.org/.

**Стъпка 2**

Създайте нов проект.

Искаме да програмираме диодите да се пускат и гасят.

**Стъпка 3**

За да създадем код, който ще контролира LED-овете, ще завлечем блока |digital| от категорията ``Advanced - Pins`` в блока |forever| от категорията |Basic|.

.. |forever| image:: ../_images/_imageMicroBit/s1.png
.. |Basic| image:: ../_images/_imageMicroBit/s2.png
.. |digital| image:: ../_images/_imageMicroBit/s37.png


За да се пусне светлината, ще въведем числото 1 в |blokcic|. Ако стойността е 0, тя ще се изгаси.

.. |blokcic| image:: ../_images/_imageMicroBit/s38.png

.. image:: ../_images/_imageMicroBit/s41.png
      :align: center

Ще въведем времеви интервал, според който да се светва и изгася ламичката. 
Ще я настроим да свети за 4 сек., да стои изгасена за 2 сек. Ще използваме блока |b1| от категория ``Basic``. В полето |b2| ще въведем 4 000 милисек. (4 сек.), за да свети светлината, и 2 000 милисек., за да стои изгасена.

.. |b1| image:: ../_images/_imageMicroBit/s39.png
.. |b2| image:: ../_images/_imageMicroBit/s40.png

Крайният вид на кода:

.. image:: ../_images/_imageMicroBit/s42.png
      :align: center

Свалете файлът .hex на компютъра си, натискайки бутона |dugme1| или |dugme2|. Micro:bit-ът ще бъде готов да започне работа, щом завлачите файла в него.

.. |dugme1| image:: ../_images/_imageMicroBit/s43.png
.. |dugme2| image:: ../_images/_imageMicroBit/29.png
      :width: 199px
