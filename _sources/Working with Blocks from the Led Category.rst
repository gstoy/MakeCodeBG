Работа с блокове от LED категория
==================================

В тази частще се запознаем с блоковете от категория |led|, а също така и как можем да изберем мястото на LED на екрана, така че да ги пуснем спрямо позицията им.

.. |led| image:: ../_images/_imageMicroBit/p24.png

Декартовата координатна система се използва в математиката за определяне на позицията на точка в равнина. В тази система има две координатни ости : ``x`` и ``y``.

Екраните на Micro:bit и MakeCode симулацията използват тази система, за да определят позициите на LED-овете по екрана. Осите х и у формират мрежа 5х5 от редове и колони, където има 5 LED-а на хоризонталната ос х (ред), и 5 LED-а на вертикалнта ос у (колона). Горният ляв ъгъл има координати (0,0), като стойностите на координата х варират от 0 до 4 и нарастват с 1 от ляво надясно; стойностите на координатата у също варират от 0 до 4, но нарастват от горе надолу. Напривмер, ако LED-ът се намира в първия ред и третата колона, координатите му са (0,2).

.. image:: ../_images/_imageMicroBit/p25.png
      :align: center

Създайте програма, която ще включи LED-овете с координати (3,3).

Влачете блока |plot| от категория |led| в блока |onstart|, който е вече на работния плот.

.. |onstart| image:: ../_images/_imageMicroBit/s20.png
.. |plot| image:: ../_images/_imageMicroBit/p26.png

.. |play| image:: ../_images/_imageMicroBit/p3.png

Крайният резултат:

.. image:: ../_images/_imageMicroBit/p29.png
      :align: center

За да тестваме програмата, ще използваме симулатора или ще натиснем бутона |play| .

.. mchoice:: L4Z1
    :answer_a: LED на симулатор А.
    :answer_b: LED на симулатор B.
    :answer_c: LED на симулатор C.
    :feedback_a: Браво!
    :feedback_b: Грешен отговор!
    :feedback_c: Грешен отговор!
    :correct: a

    Погледнете внимателно блока.

    .. image:: ../_images/_imageMicroBit/p31.png
          :align: center

    Кой лед ще светне след стартирането на програмата?

    .. image:: ../_images/_imageMicroBit/p30.png
          :align: center


Ако искаме да изгасим LED-овете, ще използваме блока |unplot|, в който ще изберем координатите на LED-овете, които искаме да изключим. С други думи, ще изберем х и у координатите на LED-а.

.. |unplot| image:: ../_images/_imageMicroBit/p27.png

**Задача:** В началото на програмата трябва всички LED-ове да са пуснати. Когато потребителят натисне копчето А, LED-овете, намиращи е на ъглите на екрана ще изгаснат.

Сравнете решението си с нашето: https://makecode.microbit.org/_4e6RXM5FmA8M

**Задача:** Създайте програма, която ще симулира пътен светофар и ще светва и изгася LED-овете, намиращи се на третия ред и втората, третата и четвъртата колона.

**Малко помощ:** Като светлините се сменят на определени интервали (нека кажем 1 секунда), използвайте блока |pause| , за да дефинирате интервала.

.. |pause| image:: ../_images/_imageMicroBit/s39.png

Сравнете решението си с нашето: https://makecode.microbit.org/_TRPRj98xj2Ap

Блокът |toogle| се използва за пускане на изгасен LED или за изгасяне на светнат. Разбира се, и в този блок трябва да въведем стойности на х и у.

.. |toogle| image:: ../_images/_imageMicroBit/p28.png

.. mchoice:: L4Z2
    :answer_a: Светлината ще изгасне след 1 милисекунда.
    :answer_b: Светлината ще се пусне и ще изгасне на всяка милисекунда.
    :answer_c: Светлината ще светне след 1 милисекунда.
    :feedback_a: Грешен отговор!
    :feedback_b: Браво!
    :feedback_c: Грешен отговор!
    :correct: b


     Погледнете внимателно блока.

    .. image:: ../_images/_imageMicroBit/p32.png
          :align: center

    Какво ще се покаже на екрана при задействане на представените блокове?

Допълнение: За да анализираме данните графична, в нашия случай-осветеността, можем да използваме блока |plotbar| , където ще въведем началната и крайната стойност на на интервала, който ще анализираме. 

.. |plotbar| image:: ../_images/_imageMicroBit/p33.png

В нашия случай, началната стойност ще бъде блокът |level| , който съхранява стойностите, отчетени от светлинния сензор, и крайната стойност ще бъде 255, защото количеството от измерена светлина варира от 0 до 255.

.. |level| image:: ../_images/_imageMicroBit/s54.png
.. |forever| image:: ../_images/_imageMicroBit/s1.png
.. |Basic| image:: ../_images/_imageMicroBit/s2.png

Блокът |plotbar| трябва да се постави в |forever| от категория |Basic|.

Блокът изглежда така:

.. image:: ../_images/_imageMicroBit/p34.png
      :align: center


За да тестваме програмата, ще пуснем симулатора, натискайки бутона |play|.

В този случай, ще отворим симулатора, който представя данните под формата на крива. 

.. image:: ../_images/_imageMicroBit/p37.png
      :align: center

.. image:: ../_images/_imageMicroBit/p38.png
      :align: center


Този симулатор ще работи, докато не го спрем, натискайки бутона |stop| . Ако искаме да свалим събраните входящи данни, можем да ги свалим на своя компютър в . csv формат, натискайки бутона |preuzmi| . Този документ съдържа колони с време в милисекунди и измерена осветеност. 

.. |stop| image:: ../_images/_imageMicroBit/p39.png
.. |preuzmi| image:: ../_images/_imageMicroBit/p36.png
